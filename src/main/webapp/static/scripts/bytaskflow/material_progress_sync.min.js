webpackJsonp([125],{"0mtG":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),r=a.n(n),o=a("7+uW"),s=a("mtWM"),i=a.n(s),c=a("oAV5");window.task_flow_version="beiyi_flow";var l={data:function(){return{assignee:pageDataObject.assignee,flowStartDate:c.b.formatDate(new Date(pageDataObject.flowStartDate),"yyyy-MM-dd hh:mm:ss"),flowEndDate:c.b.formatDate(new Date(pageDataObject.flowEndDate),"yyyy-MM-dd hh:mm:ss"),staticText:{subtitle:["任务操作指引","任务操作"],label:["设计稿：","1、点击物料制作管理<br>2、下载设计稿，传送给供应商<br>3、同时在物料制作管理页同步物料制作进度：待下单制作、已下单制作、物料运送中、物料已到店<br>4、将物料制作进度同步至运营顾问","物料制作状态：","到物料制作管理页进行制作下单和进件管理","物料制作管理"]},taskId:erpApp.getQueryString("taskId"),procInsId:erpApp.getQueryString("procInsId"),materialInfo:{id:"",status:"",statusName:"物料未制作"},materialManageLink:ctx+"/material/erpOrderMaterialCreation"}},computed:{},mounted:function(){this.getMaterialCreation()},methods:{getMaterialCreation:function(){var t=this;i.a.get(ctx+"/visit/flow/getMaterialCreation",{params:{procInsId:this.procInsId}}).then(function(e){e.data.result&&"object"===erpApp.util.type(e.data.message)&&(t.materialInfo=erpApp.extend(!0,t.materialInfo,e.data.message))})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"taskflow-content"},[a("div",{staticClass:"task-detail-wrapper",attrs:{id:"taskDetailWrapper"}},[a("h3",{staticClass:"task-title"},[t._v("物料制作下单并进度同步 — （"+t._s(t.materialInfo.statusName)+"）")]),t._v(" "),a("div",{staticClass:"task-sider"},[a("div",{staticClass:"task-sider-subtitle"},[a("span",[t._v(t._s(t.staticText.subtitle[0]))])]),t._v(" "),a("div",{staticClass:"task-sider-content"},[a("div",{staticClass:"content-wrap"},[a("div",{domProps:{innerHTML:t._s(t.staticText.label[1])}})])]),t._v(" "),a("div",{staticClass:"task-sider-subtitlec"},[a("i",{staticClass:"icon-wrench"}),a("span",[t._v(t._s(t.staticText.subtitle[1]))])]),t._v(" "),a("div",{staticClass:"task-sider-content"},[a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"sun-info"},[t._v(t._s(t.staticText.label[2])+t._s(t.materialInfo.statusName))]),t._v(" "),a("div",{staticClass:"sun-info"},[t._v(t._s(t.staticText.label[3]))]),t._v(" "),a("a",{staticClass:"btn btn-primary",attrs:{href:t.materialManageLink,target:"_blank"}},[t._v(t._s(t.staticText.label[4]))])])])]),t._v(" "),a("div",{staticClass:"task-detail-footer"},[a("div",{staticClass:"footer-info"},[a("p",[t._v("负责人："+t._s(t.assignee))]),t._v(" "),a("p",[t._v(t._s(t.flowStartDate)+" —— "+t._s(t.flowEndDate))])])])])])},staticRenderFns:[]},d=a("VU/8")(l,u,!1,null,null,null).exports;o.default.config.productionTip=!1,o.default.config.devtools=!1,new o.default(r()({},d)).$mount("#rootNode")},oAV5:function(t,e,a){"use strict";a.d(e,"f",function(){return l}),a.d(e,"g",function(){return u}),a.d(e,"e",function(){return d}),a.d(e,"d",function(){return p}),a.d(e,"b",function(){return h}),a.d(e,"a",function(){return g});var n=a("//Fk"),r=a.n(n),o=a("mvHQ"),s=a.n(o),i=a("pFYg"),c=a.n(i),l=function(t,e,a){for(var n=0,r=e.length,o=!1;n<r;){if(t===e[n][a]){o=!0;break}n++}return o},u=function(t){return""+t.replace(/(^\s*)|(\s*$)/g,"")},d=function(){var t=new Date,e=t.getMonth()+1,a=t.getDate();return t.getFullYear()+"-"+(e>9?e:"0"+e)+"-"+(a>9?a:"0"+a)};f.prototype.getDateStr3=function(t){var e=t;return""+e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):""+(e.getMonth()+1))+"-"+(e.getDate()<10?"0"+e.getDate():""+e.getDate())},f.prototype.getWeekStartAndEnd=function(t){var e=new Date,a=(e=new Date(e.getTime()+6048e5*t)).getDay(),n=(e.getDate(),0!=a?a-1:6),r=new Date(e.getTime()-864e5*n),o=new Date(r.getTime()+5184e5);return this.getDateStr3(r)+" - "+this.getDateStr3(o)};var p=function(t,e,a){t=t;var n=e?new Date(e):new Date,r=n.getFullYear(),o=n.getMonth()+1,s=n.getDate();return s<=t&&(o>1?o-=1:(r-=1,o=12)),"before"===a?n.setDate(n.getDate()-t):n.setDate(n.getDate()+t),r=n.getFullYear(),o=n.getMonth()+1,s=n.getDate(),r+"-"+(o<10?"0"+o:o)+"-"+(s<10?"0"+s:s)};function f(t){this.date=t.date,this.type=t.type,this.value=void 0!==t.value?t.value:0,this.format=void 0!==t.format?t.format:"yyyy/MM/dd",this.date instanceof Date?(this.year=this.date.getFullYear(),this.month=this.date.getMonth()+1,this.day=this.date.getDate()):(this.year=this.date.substr(0,4),this.month=this.date.substr(5,2),this.day=this.date.substr(8,2))}f.prototype.beforeDate=function(t,e){var a=t||this.type,n=e||this.value,r=this.year,o=this.month,s=this.day;"year"===a||"年"===a?r-=n:"month"===a||"月"===a?(r-=parseInt(n/12),(o-=n%12)<=0&&(r-=1,o+=12)):"day"!==a&&"日"!==a||(s-=n%30)<=0&&(r-=1,o+=12);var i=new Date(r,o-1,s);return this.formatDate(i,this.format)},f.prototype.formatDate=function(t,e){var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return e},f.prototype.getThisMonth=function(){var t=new Date(this.year,this.month-1),e=new Date(this.year,this.month,0);return this.formatDate(t,this.format)+" - "+this.formatDate(e,this.format)},f.prototype.getSomeMonth=function(t){return this.beforeDate("month",t)+" - "+this.beforeDate("now",0)},f.prototype.getThisYear=function(){var t=new Date(this.year,0,1),e=new Date(this.year,11,31);return this.formatDate(t,this.format)+" - "+this.formatDate(e,this.format)},f.prototype.formatTimeStr=function(t){var e=new Date,a=parseInt(e.getTime()),n=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+(e.getDate()-1)+" 00:00:01"),r=new Date(t),o=(a-t)/1e3;return o>=31536e3||r.getFullYear()!=e.getFullYear()?r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate():o>259200?r.getMonth()+1+"-"+r.getDate():r.getDate()==n.getDate()?"昨天":o>86400?Math.ceil(o/86400)+"天前":o>3600?Math.floor(o/3600)+"小时前":o>60?Math.floor(o/60)+"分钟前":"刚刚"};var h=new f({date:"2018-06-01",type:"month",value:"14",format:"yyyy-MM-dd hh:mm:ss"}),m=function(t){var e,a,n,r={url:location.href,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,xhr:function(){try{return new XMLHttpRequest}catch(t){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){return new ActiveXObject("Microsoft.XMLHTTP")}}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript, application/x-javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},o={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"},s=(new Date).getTime(),i=/\[\]$/,l=/\=\?(&|$)/,u=/\?/,d=/%20/g,p=/\S/,f={},h={},m=function t(){var e,a,n,r,o,s,i=arguments[0]||{},l=arguments.length;for(e=1;e<l;++e)if(null!=(a=arguments[e]))for(s in a)n=i[s],r=a[s],i!==r&&("object"===(void 0===r?"undefined":c()(r))?(o=n&&"object"===(void 0===n?"undefined":c()(n))?n:{},i[s]=t(o,r)):void 0!==r&&(i[s]=r));return i}(r,t),g=m.type.toUpperCase(),y=/^(?:GET|HEAD)$/.test(g);if(m.url=m.url.replace(/#.*$/,""),m.context=t&&null!=t.context?t.context:m,m.data&&m.processData&&"string"!=typeof m.data&&(m.data=function(t){var e,a=[],n=function(t,e){e=E(e)?e():e,a[a.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(k(t))for(e in t)n(e,t[e]);else for(var r in t)I(r,t[r],n);return a.join("&").replace(d,"+")}(m.data)),"jsonp"===m.dataType&&("GET"===g?l.test(m.url)||(m.url+=(u.test(m.url)?"&":"?")+(m.jsonp||"callback")+"=?"):m.data&&l.test(m.data)||(m.data=(m.data?m.data+"&":"")+(m.jsonp||"callback")+"=?"),m.dataType="json"),"json"===m.dataType&&(m.data&&l.test(m.data)||l.test(m.url))){e=m.jsonpCallback||"jsonp"+s++,m.data&&(m.data=(m.data+"").replace(l,"="+e+"$1")),m.url=m.url.replace(l,"="+e+"$1"),m.dataType="script";var v=window[e];window[e]=function(t){if(E(v))v(t);else{window[e]=void 0;try{delete window[e]}catch(t){}}F(m,C,a,n=t),H(m,C,a),D&&D.removeChild(T)}}m.data&&y&&(m.url+=(u.test(m.url)?"&":"?")+m.data);var w=/^(\w+:)?\/\/([^\/?#]+)/.exec(m.url),b=w&&(w[1]&&w[1].toLowerCase()!==location.protocol||w[2].toLowerCase()!==location.host);if("script"===m.dataType&&"GET"===g&&b){var D=document.getElementsByTagName("head")[0]||document.documentElement,T=document.createElement("script");if(m.scriptCharset&&(T.charset=m.scriptCharset),T.src=m.url,!e){var x=!1;T.onload=T.onreadystatechange=function(){x||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(x=!0,F(m,C,a,n),H(m,C,a),T.onload=T.onreadystatechange=null,D&&T.parentNode&&D.removeChild(T))}}D.insertBefore(T,D.firstChild)}else{var M=!1,C=m.xhr();if(C){m.username?C.open(g,m.url,m.async,m.username,m.password):C.open(g,m.url,m.async),m.withCredentials&&"withCredentials"in C&&(C.withCredentials=!0);try{(null!=m.data&&!y||t&&t.contentType)&&C.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(f[m.url]&&C.setRequestHeader("If-Modified-Since",f[m.url]),h[m.url]&&C.setRequestHeader("If-None-Match",h[m.url])),b||C.setRequestHeader("X-Requested-With","XMLHttpRequest"),C.setRequestHeader("Accept",m.dataType&&m.accepts[m.dataType]?m.accepts[m.dataType]+", */*; q=0.01":m.accepts._default)}catch(t){}if(m.beforeSend&&!1===m.beforeSend.call(m.context,C,m))return C.abort(),!1;var j=C.onreadystatechange=function(t){if(C&&0!==C.readyState&&"abort"!==t){if(!M&&C&&(4===C.readyState||"timeout"===t)){var r;if(M=!0,C.onreadystatechange=L,"success"===(a="timeout"===t?"timeout":function(t){try{return!t.status&&"file:"===location.protocol||t.status>=200&&t.status<300||304===t.status||1223===t.status}catch(t){}return!1}(C)?m.ifModified&&function(t,e){var a=t.getResponseHeader("Last-Modified"),n=t.getResponseHeader("Etag");a&&(a[e]=a);n&&(n[e]=n);return 304===t.status}(C,m.url)?"notmodified":"success":"error"))try{n=function(t,e,a){var n=t.getResponseHeader("content-type")||"",r="xml"===e||!e&&n.indexOf("xml")>=0,o=r?t.responseXML:t.responseText;if(r&&"parsererror"===o.documentElement.nodeName)throw"parsererror";a&&a.dataFilter&&(o=a.dataFilter(o,e));"string"==typeof o&&("json"===e||!e&&n.indexOf("json")>=0?o=JSON.parse(o):("script"===e||!e&&n.indexOf("javascript")>=0)&&function(t){if(t&&p.test(t)){var e=document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script");a.type="text/javascript",scriptEval?a.appendChild(document.createTextNode(t)):a.text=t,e.insertBefore(a,e.firstChild),e.removeChild(a)}}(o));return o}(C,m.dataType,m)}catch(t){a="parsererror",r=t}"success"===a||"notmodified"===a?e||F(m,C,a,n):R(m,C,a,r),e||H(m,C,a),"timeout"===t&&C.abort(),m.async&&(C=null)}}else M||H(m,C,a),M=!0,C&&(C.onreadystatechange=L)};try{var _=C.abort;C.abort=function(){C&&Function.prototype.call.call(_,C),j("abort")}}catch(t){}m.async&&m.timeout>0&&setTimeout(function(){C&&!M&&j("timeout")},m.timeout);try{C.send(y||null==m.data?null:m.data)}catch(t){R(m,C,null,t),H(m,C,a)}return m.async||j(),C}}function S(t){return null==t?String(t):o[toString.call(t)]||"object"}function E(t){return"function"===S(t)}function k(t){return"array"===S(t)}function I(t,e,a){if(k(e)&&e.length)for(var n in e){var r=e[n];i.test(t)?a(t,r):I(t+"["+("object"===(void 0===r?"undefined":c()(r))||k(r)?n:"")+"]",r,a)}else if(null!=e&&"object"===(void 0===e?"undefined":c()(e)))if(function(t){for(var e in t)return!1;return!0}(e))a(t,"");else for(var o in e){I(t+"["+o+"]",r=e[o],a)}else a(t,e)}function R(t,e,a,n){"function"==typeof t.error&&t.error.call(t.context,e,a,n)}function F(t,e,a,n){"function"==typeof t.success&&t.success.call(t.context,n,a,e)}function H(t,e,a){"function"==typeof t.complete&&t.complete.call(t.context,e,a)}function L(){}},g=function(t){var e,a,n=t.data;return"string"==typeof t.dataType&&"string"==typeof t.type&&"json"===(e=t.dataType.toLowerCase())&&"post"===t.type.toLowerCase()&&(n=s()(t.data)),"string"==typeof t.contentType&&(a=t.contentType.toLowerCase()),new r.a(function(r,o){m({url:t.url||"url",type:t.type||"GET",async:!1!==t.async,withCredentials:t.withCredentials,data:n,dataType:e||"default",contentType:a||"application/x-www-form-urlencoded; charset=UTF-8",beforeSend:function(){return"function"!=typeof t.beforeSend||t.beforeSend()},success:function(t,e,a,n){r(t,e,a,n)},error:function(t,e,a,n){o({responseText:t.responseText,code:t.status})},complete:function(t,e,a){r(t,e,a)}})})};e.c=f}},["0mtG"]);