webpackJsonp([108],{"2mS3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),s=r.n(n),a=r("7+uW"),i=r("mtWM"),o=r.n(i),l={props:[""],data:function(){return{redeployList:[],userOperationManagerList:[],userOperationManagerListSelect:{},materialConsultantUserList:[],materialConsultantUserListSelect:{},openAccountConsultantUserList:[],openAccountConsultantUserListSelect:{},operationAdviserUserList:[],operationAdviserUserListSelect:{},procInsId:erpApp.getQueryString("procInsId")}},components:{},mounted:function(){this.getData()},methods:{closeModal:function(){this.$emit("closeModalByRedeploy")},saveData:function(){var e=[];this.userOperationManagerListSelect.id&&e.push({userId:this.userOperationManagerListSelect.id,roleName:this.userOperationManagerListSelect.remarks?this.userOperationManagerListSelect.remarks:""}),this.openAccountConsultantUserListSelect.id&&e.push({userId:this.openAccountConsultantUserListSelect.id,roleName:this.openAccountConsultantUserListSelect.remarks?this.openAccountConsultantUserListSelect.remarks:""}),this.operationAdviserUserListSelect.id&&e.push({userId:this.operationAdviserUserListSelect.id,roleName:this.operationAdviserUserListSelect.remarks?this.operationAdviserUserListSelect.remarks:""}),this.materialConsultantUserListSelect.id&&e.push({userId:this.materialConsultantUserListSelect.id,roleName:this.materialConsultantUserListSelect.remarks?this.materialConsultantUserListSelect.remarks:""})},getData:function(){var e=this;o.a.get(ctx+"/visit/flow/changeRoleList?procInsId="+this.procInsId).then(function(t){t.data.result&&(e.userOperationManagerList=t.data.userOperationManagerList,e.materialConsultantUserList=t.data.materialConsultantUserList,e.openAccountConsultantUserList=t.data.openAccountConsultantUserList,e.operationAdviserUserList=t.data.operationAdviserUserList,t.data.hasOwnProperty("list")&&(e.redeployList=t.data.list,e.redeployList.forEach(function(t){if("operationManager"===t.role){var r=e.userOperationManagerList.filter(function(e){return e.name===t.name});r.length?e.userOperationManagerListSelect=r[0]:(e.userOperationManagerListSelect=t,e.userOperationManagerList.push(t))}else if("accountAdviser"===t.role){var n=e.openAccountConsultantUserList.filter(function(e){return e.name===t.name});n.length?e.openAccountConsultantUserListSelect=n[0]:(e.openAccountConsultantUserListSelect=t,e.openAccountConsultantUserList.push(t))}else if("OperationAdviser"===t.role){var s=e.operationAdviserUserList.filter(function(e){return e.name===t.name});s.length?e.operationAdviserUserListSelect=s[0]:(e.operationAdviserUserListSelect=t,e.operationAdviserUserList.push(t))}else if("materialAdviser"===t.role){var a=e.materialConsultantUserList.filter(function(e){return e.name===t.name});a.length?e.materialConsultantUserListSelect=a[0]:(e.materialConsultantUserListSelect=t,e.materialConsultantUserList.push(t))}})))})}}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mask-redeploy"},[e._l(e.redeployList,function(t,n){return"operationManager"===t.role||"accountAdviser"===t.role||"OperationAdviser"===t.role||"materialAdviser"===t.role?r("p",{key:"redeploy"+n,staticStyle:{"margin-left":"80px","margin-top":"15px"}},["operationManager"===t.role?r("label",{staticStyle:{width:"70px"}},[e._v("运营经理：")]):e._e(),e._v(" "),"accountAdviser"===t.role?r("label",{staticStyle:{width:"70px"}},[e._v("开户顾问：")]):e._e(),e._v(" "),"OperationAdviser"===t.role?r("label",{staticStyle:{width:"70px"}},[e._v("运营顾问：")]):e._e(),e._v(" "),"materialAdviser"===t.role?r("label",{staticStyle:{width:"70px"}},[e._v("物料顾问：")]):e._e(),e._v(" "),"operationManager"===t.role?r("select",{directives:[{name:"model",rawName:"v-model",value:e.userOperationManagerListSelect,expression:"userOperationManagerListSelect"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.userOperationManagerListSelect=t.target.multiple?r:r[0]}}},[r("option",{domProps:{value:{}}},[e._v("请选择")]),e._v(" "),e._l(e.userOperationManagerList,function(t){return r("option",{domProps:{value:t}},[e._v(e._s(t.name))])})],2):e._e(),e._v(" "),"accountAdviser"===t.role?r("select",{directives:[{name:"model",rawName:"v-model",value:e.openAccountConsultantUserListSelect,expression:"openAccountConsultantUserListSelect"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.openAccountConsultantUserListSelect=t.target.multiple?r:r[0]}}},[r("option",{domProps:{value:{}}},[e._v("请选择")]),e._v(" "),e._l(e.openAccountConsultantUserList,function(t){return r("option",{domProps:{value:t}},[e._v(e._s(t.name))])})],2):e._e(),e._v(" "),"OperationAdviser"===t.role?r("select",{directives:[{name:"model",rawName:"v-model",value:e.operationAdviserUserListSelect,expression:"operationAdviserUserListSelect"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.operationAdviserUserListSelect=t.target.multiple?r:r[0]}}},[r("option",{domProps:{value:{}}},[e._v("请选择")]),e._v(" "),e._l(e.operationAdviserUserList,function(t){return r("option",{domProps:{value:t}},[e._v(e._s(t.name))])})],2):e._e(),e._v(" "),"materialAdviser"===t.role?r("select",{directives:[{name:"model",rawName:"v-model",value:e.materialConsultantUserListSelect,expression:"materialConsultantUserListSelect"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.materialConsultantUserListSelect=t.target.multiple?r:r[0]}}},[r("option",{domProps:{value:{}}},[e._v("请选择")]),e._v(" "),e._l(e.materialConsultantUserList,function(t){return r("option",{domProps:{value:t}},[e._v(e._s(t.name))])})],2):e._e()]):e._e()}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:JSON.stringify(e.userOperationManagerListSelect),expression:"JSON.stringify(userOperationManagerListSelect)"}],attrs:{type:"hidden",id:"userOperationManagerListSelect",name:"formDataInput"},domProps:{value:JSON.stringify(e.userOperationManagerListSelect)},on:{input:function(t){t.target.composing||e.$set(JSON,"stringify(userOperationManagerListSelect)",t.target.value)}}}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:JSON.stringify(e.openAccountConsultantUserListSelect),expression:"JSON.stringify(openAccountConsultantUserListSelect)"}],attrs:{type:"hidden",id:"openAccountConsultantUserListSelect",name:"formDataInput"},domProps:{value:JSON.stringify(e.openAccountConsultantUserListSelect)},on:{input:function(t){t.target.composing||e.$set(JSON,"stringify(openAccountConsultantUserListSelect)",t.target.value)}}}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:JSON.stringify(e.operationAdviserUserListSelect),expression:"JSON.stringify(operationAdviserUserListSelect)"}],attrs:{type:"hidden",id:"operationAdviserUserListSelect",name:"formDataInput"},domProps:{value:JSON.stringify(e.operationAdviserUserListSelect)},on:{input:function(t){t.target.composing||e.$set(JSON,"stringify(operationAdviserUserListSelect)",t.target.value)}}}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:JSON.stringify(e.materialConsultantUserListSelect),expression:"JSON.stringify(materialConsultantUserListSelect)"}],attrs:{type:"hidden",id:"materialConsultantUserListSelect",name:"formDataInput"},domProps:{value:JSON.stringify(e.materialConsultantUserListSelect)},on:{input:function(t){t.target.composing||e.$set(JSON,"stringify(materialConsultantUserListSelect)",t.target.value)}}})],2)},staticRenderFns:[]};var c=r("VU/8")(l,u,!1,function(e){r("6xaY")},"data-v-39a58053",null).exports;a.default.config.productionTip=!1,a.default.config.devtools=!1,new a.default(s()({},c)).$mount("#rootNode")},"6xaY":function(e,t){}},["2mS3"]);