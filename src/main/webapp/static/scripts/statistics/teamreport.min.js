webpackJsonp([32],{"+ryu":function(t,e,a){"use strict";var i={data:function(){return{index:this.pageIndex,limit:this.pageSize,size:this.total||1,showPrevMore:!1,showNextMore:!1}},watch:{pageIndex:function(t){this.index=t||1},pageSize:function(t){this.limit=t||10},total:function(t){this.size=t||1}},props:{perPages:{type:Number,default:5},pageIndex:{type:Number,default:1},pageSize:{type:Number,default:10},total:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.size/this.limit)},pagers:function(){var t=[],e=this.perPages,a=this.pages,i=this.index,s=Math.ceil((e-1)/2),n={start:i-s,end:i+s};n.start<1&&(n.end=n.end+(1-n.start),n.start=1),n.end>a&&(n.start=n.start-(n.end-a),n.end=a),n.start<1&&(n.start=1),this.showPrevMore=n.start>1,this.showNextMore=n.end<a;for(var r=n.start;r<=n.end;r++)t.push(r);return t}},methods:{prev:function(){this.index>1&&this.go(this.index-1)},next:function(){this.index<this.pages&&this.go(this.index+1)},first:function(){1!==this.index&&this.go(1)},last:function(){this.index!=this.pages&&this.go(this.pages)},go:function(t){this.index!==t&&(this.index=t,this.$emit("change",this.index))}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination"},[a("ul",[a("li",{class:{disabled:1===t.index}},[a("a",{attrs:{href:"javascript:;"},on:{click:t.prev}},[t._v("« 上一页")])]),t._v(" "),t.showPrevMore?a("li",{staticClass:"disabled"},[a("a",{attrs:{href:"javascript:"}},[t._v("...")])]):t._e(),t._v(" "),t._l(t.pagers,function(e){return a("li",{class:{active:t.index===e}},[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.go(e)}}},[t._v(t._s(e))])])}),t._v(" "),t.showNextMore?a("li",{staticClass:"disabled"},[a("a",{attrs:{href:"javascript:"}},[t._v("...")])]):t._e(),t._v(" "),a("li",{class:{disabled:t.index===t.pages}},[a("a",{attrs:{href:"javascript:;"},on:{click:t.next}},[t._v("下一页 »")])]),t._v(" "),a("li",{staticClass:"disabled controls"},[a("a",{attrs:{href:"javascript:;"}},[t._v("当前 \r\n\t\t\t\t"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.index,expression:"index"}],attrs:{type:"text",disabled:""},domProps:{value:t.index},on:{input:function(e){e.target.composing||(t.index=e.target.value)}}}),t._v(" / \r\n\t\t\t\t"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pageSize,expression:"pageSize"}],attrs:{type:"text",disabled:""},domProps:{value:t.pageSize},on:{input:function(e){e.target.composing||(t.pageSize=e.target.value)}}}),t._v(" \r\n\t\t\t\t条，共 "+t._s(t.total)+" 条\r\n\t\t\t")])])],2),t._v(" "),a("div",{staticStyle:{clear:"both"}})])},staticRenderFns:[]},n=a("VU/8")(i,s,!1,null,null,null);e.a=n.exports},"8K+q":function(t,e){},CIhD:function(t,e,a){"use strict";var i=a("pFYg"),s=a.n(i),n={props:["value","options","selectMoreConfig","label","identity","width","zIndex"],data:function(){return{isShow:!1,selectData:this.options,checkedList:[],isAll:!1,isOver:"",isNochecked:!1,trackByName:this.selectMoreConfig.trackByName,keyName:this.selectMoreConfig.keyName}},watch:{value:function(t,e){if("[object Array]"===Object.prototype.toString.call(t)&&t.length>0){var a=this,i=[];t.forEach(function(t){"object"===(void 0===t?"undefined":s()(t))?i.push(t[a.trackByName]):i.push(t)}),this.checkedList=i}},options:function(t,e){"[object Array]"===Object.prototype.toString.call(t)&&(this.selectData=t)},checkedList:function(t,e){var a=!1,i=this;if(t.length===this.selectData.length?this.isAll=!0:this.isAll=!1,t.length>0&&t.length===e.length?t.every(function(t,i){return t===e[i]||(a=!0,!1)}):a=!0,a){var n=[],r=this.trackByName;t.forEach(function(t){i.selectData.forEach(function(e){var a="object"===(void 0===e?"undefined":s()(e))?e[r]:e;t.toString()===a.toString()&&n.push(e)})}),this.$emit("input",n,i.identity)}}},computed:{checkedName:function(){var t=this,e="",a=this.trackByName;return this.checkedList.length>0&&this.selectData.length>0?(this.isNochecked=!1,this.checkedList.forEach(function(i){t.selectData.forEach(function(n){"object"===(void 0===n?"undefined":s()(n))&&n[a].toString()===i.toString()?e+=n[t.keyName]+"、":n===i&&(e+=n+"、")})}),e=e.replace(/^\s+|\s+$/g,"").substring(0,e.length-1)):(e=this.selectMoreConfig.placeholder?this.selectMoreConfig.placeholder:"",this.isNochecked=!0),e}},mounted:function(){if(this.value.length>0&&this.options.length>0){var t=this,e=t.trackByName,a=[];this.isAll=this.value.length===this.options.length,this.options.forEach(function(i){Array.isArray(t.value)&&t.value.forEach(function(s){t.isObject(s)&&t.isObject(i)&&s[e].toString()===i[e].toString()?a.push(s[e]):i===s&&a.push(s)})}),this.checkedList=a}document.body.addEventListener("click",this.closeTimeList,!1)},beforeDestroy:function(){document.body.removeEventListener("click",this.closeTimeList,!1)},methods:{isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},allCheck:function(){if(this.isAll)this.checkedList=[];else{var t=this,e=this.trackByName,a=[];this.selectData.forEach(function(i){t.isObject(i)?a.push(i[e]):a.push(i)}),this.checkedList=a}},showSelectClick:function(){this.isShow?this.isShow=!1:this.isShow=!0},closeTimeList:function(t){var e=t.target,a=this.$el.firstChild;e.isEqualNode(a)||(this.isShow=!1)},liMove:function(t){this.isOver=t},selectClick:function(){}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checked-time",style:{width:t.width||"220px","z-index":t.zIndex||1},on:{click:t.showSelectClick}},[a("div",{staticClass:"show-time",class:{"col-gay":t.isNochecked},attrs:{"data-label":this.label,title:t.checkedName}},[t._v("\n        "+t._s(t.checkedName)+"\n    ")]),t._v(" "),a("div",{staticClass:"trangle"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"select-box",on:{click:function(e){e.stopPropagation(),t.selectClick(e)}}},[a("ul",{staticClass:"select-list"},[a("li",{class:{"over-li":-1===t.isOver},on:{mousemove:function(e){t.isOver=-1}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isAll,expression:"isAll"}],attrs:{type:"checkbox",name:"time"},domProps:{checked:Array.isArray(t.isAll)?t._i(t.isAll,null)>-1:t.isAll},on:{change:function(e){var a=t.isAll,i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=t._i(a,null);i.checked?n<0&&(t.isAll=a.concat([null])):n>-1&&(t.isAll=a.slice(0,n).concat(a.slice(n+1)))}else t.isAll=s}}}),t._v(" "),a("label",{staticClass:"fl-left",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.allCheck(e)}}}),t._v(" "),a("span",{staticClass:"fl-left span-time"},[t._v("\n                   全选\n                ")])]),t._v(" "),t._l(t.selectData,function(e,i){return a("li",{key:"item"+i,staticClass:"clearfix",class:{"over-li":t.isOver===i},on:{mousemove:function(e){t.liMove(i)}}},[t.isString(e)?[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedList,expression:"checkedList"}],attrs:{type:"checkbox",name:"time",id:t.identity+i+"labels"},domProps:{value:e,checked:Array.isArray(t.checkedList)?t._i(t.checkedList,e)>-1:t.checkedList},on:{change:function(a){var i=t.checkedList,s=a.target,n=!!s.checked;if(Array.isArray(i)){var r=e,o=t._i(i,r);s.checked?o<0&&(t.checkedList=i.concat([r])):o>-1&&(t.checkedList=i.slice(0,o).concat(i.slice(o+1)))}else t.checkedList=n}}}),t._v(" "),a("label",{staticClass:"fl-left",attrs:{for:t.identity+i+"labels"}}),t._v(" "),a("span",{staticClass:"fl-left span-time"},[t._v("\n                       "+t._s(e)+"\n                    ")])]:[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedList,expression:"checkedList"}],attrs:{type:"checkbox",name:"time",id:t.identity+i+"labels"},domProps:{value:e[t.trackByName],checked:Array.isArray(t.checkedList)?t._i(t.checkedList,e[t.trackByName])>-1:t.checkedList},on:{change:function(a){var i=t.checkedList,s=a.target,n=!!s.checked;if(Array.isArray(i)){var r=e[t.trackByName],o=t._i(i,r);s.checked?o<0&&(t.checkedList=i.concat([r])):o>-1&&(t.checkedList=i.slice(0,o).concat(i.slice(o+1)))}else t.checkedList=n}}}),t._v(" "),a("label",{staticClass:"fl-left",attrs:{for:t.identity+i+"labels"}}),t._v(" "),a("span",{staticClass:"fl-left span-time"},[t._v("\n                       "+t._s(e[t.keyName])+"\n                    ")])]],2)})],2)])])},staticRenderFns:[]};var o=a("VU/8")(n,r,!1,function(t){a("8K+q")},"data-v-123786a6",null);e.a=o.exports},oAV5:function(t,e,a){"use strict";a.d(e,"f",function(){return l}),a.d(e,"g",function(){return d}),a.d(e,"e",function(){return h}),a.d(e,"d",function(){return u}),a.d(e,"b",function(){return f}),a.d(e,"a",function(){return m});var i=a("//Fk"),s=a.n(i),n=a("mvHQ"),r=a.n(n),o=a("pFYg"),c=a.n(o),l=function(t,e,a){for(var i=0,s=e.length,n=!1;i<s;){if(t===e[i][a]){n=!0;break}i++}return n},d=function(t){return""+t.replace(/(^\s*)|(\s*$)/g,"")},h=function(){var t=new Date,e=t.getMonth()+1,a=t.getDate();return t.getFullYear()+"-"+(e>9?e:"0"+e)+"-"+(a>9?a:"0"+a)};p.prototype.getDateStr3=function(t){var e=t;return""+e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):""+(e.getMonth()+1))+"-"+(e.getDate()<10?"0"+e.getDate():""+e.getDate())},p.prototype.getWeekStartAndEnd=function(t){var e=new Date,a=(e=new Date(e.getTime()+6048e5*t)).getDay(),i=(e.getDate(),0!=a?a-1:6),s=new Date(e.getTime()-864e5*i),n=new Date(s.getTime()+5184e5);return this.getDateStr3(s)+" - "+this.getDateStr3(n)};var u=function(t,e,a){t=t;var i=e?new Date(e):new Date,s=i.getFullYear(),n=i.getMonth()+1,r=i.getDate();return r<=t&&(n>1?n-=1:(s-=1,n=12)),"before"===a?i.setDate(i.getDate()-t):i.setDate(i.getDate()+t),s=i.getFullYear(),n=i.getMonth()+1,r=i.getDate(),s+"-"+(n<10?"0"+n:n)+"-"+(r<10?"0"+r:r)};function p(t){this.date=t.date,this.type=t.type,this.value=void 0!==t.value?t.value:0,this.format=void 0!==t.format?t.format:"yyyy/MM/dd",this.date instanceof Date?(this.year=this.date.getFullYear(),this.month=this.date.getMonth()+1,this.day=this.date.getDate()):(this.year=this.date.substr(0,4),this.month=this.date.substr(5,2),this.day=this.date.substr(8,2))}p.prototype.beforeDate=function(t,e){var a=t||this.type,i=e||this.value,s=this.year,n=this.month,r=this.day;"year"===a||"年"===a?s-=i:"month"===a||"月"===a?(s-=parseInt(i/12),(n-=i%12)<=0&&(s-=1,n+=12)):"day"!==a&&"日"!==a||(r-=i%30)<=0&&(s-=1,n+=12);var o=new Date(s,n-1,r);return this.formatDate(o,this.format)},p.prototype.formatDate=function(t,e){var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return e},p.prototype.getThisMonth=function(){var t=new Date(this.year,this.month-1),e=new Date(this.year,this.month,0);return this.formatDate(t,this.format)+" - "+this.formatDate(e,this.format)},p.prototype.getSomeMonth=function(t){return this.beforeDate("month",t)+" - "+this.beforeDate("now",0)},p.prototype.getThisYear=function(){var t=new Date(this.year,0,1),e=new Date(this.year,11,31);return this.formatDate(t,this.format)+" - "+this.formatDate(e,this.format)},p.prototype.formatTimeStr=function(t){var e=new Date,a=parseInt(e.getTime()),i=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+(e.getDate()-1)+" 00:00:01"),s=new Date(t),n=(a-t)/1e3;return n>=31536e3||s.getFullYear()!=e.getFullYear()?s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate():n>259200?s.getMonth()+1+"-"+s.getDate():s.getDate()==i.getDate()?"昨天":n>86400?Math.ceil(n/86400)+"天前":n>3600?Math.floor(n/3600)+"小时前":n>60?Math.floor(n/60)+"分钟前":"刚刚"};var f=new p({date:"2018-06-01",type:"month",value:"14",format:"yyyy-MM-dd hh:mm:ss"}),v=function(t){var e,a,i,s={url:location.href,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,xhr:function(){try{return new XMLHttpRequest}catch(t){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){return new ActiveXObject("Microsoft.XMLHTTP")}}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript, application/x-javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},n={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"},r=(new Date).getTime(),o=/\[\]$/,l=/\=\?(&|$)/,d=/\?/,h=/%20/g,u=/\S/,p={},f={},v=function t(){var e,a,i,s,n,r,o=arguments[0]||{},l=arguments.length;for(e=1;e<l;++e)if(null!=(a=arguments[e]))for(r in a)i=o[r],s=a[r],o!==s&&("object"===(void 0===s?"undefined":c()(s))?(n=i&&"object"===(void 0===i?"undefined":c()(i))?i:{},o[r]=t(n,s)):void 0!==s&&(o[r]=s));return o}(s,t),m=v.type.toUpperCase(),g=/^(?:GET|HEAD)$/.test(m);if(v.url=v.url.replace(/#.*$/,""),v.context=t&&null!=t.context?t.context:v,v.data&&v.processData&&"string"!=typeof v.data&&(v.data=function(t){var e,a=[],i=function(t,e){e=j(e)?e():e,a[a.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(A(t))for(e in t)i(e,t[e]);else for(var s in t)N(s,t[s],i);return a.join("&").replace(h,"+")}(v.data)),"jsonp"===v.dataType&&("GET"===m?l.test(v.url)||(v.url+=(d.test(v.url)?"&":"?")+(v.jsonp||"callback")+"=?"):v.data&&l.test(v.data)||(v.data=(v.data?v.data+"&":"")+(v.jsonp||"callback")+"=?"),v.dataType="json"),"json"===v.dataType&&(v.data&&l.test(v.data)||l.test(v.url))){e=v.jsonpCallback||"jsonp"+r++,v.data&&(v.data=(v.data+"").replace(l,"="+e+"$1")),v.url=v.url.replace(l,"="+e+"$1"),v.dataType="script";var y=window[e];window[e]=function(t){if(j(y))y(t);else{window[e]=void 0;try{delete window[e]}catch(t){}}L(v,x,a,i=t),F(v,x,a),C&&C.removeChild(w)}}v.data&&g&&(v.url+=(d.test(v.url)?"&":"?")+v.data);var D=/^(\w+:)?\/\/([^\/?#]+)/.exec(v.url),_=D&&(D[1]&&D[1].toLowerCase()!==location.protocol||D[2].toLowerCase()!==location.host);if("script"===v.dataType&&"GET"===m&&_){var C=document.getElementsByTagName("head")[0]||document.documentElement,w=document.createElement("script");if(v.scriptCharset&&(w.charset=v.scriptCharset),w.src=v.url,!e){var b=!1;w.onload=w.onreadystatechange=function(){b||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(b=!0,L(v,x,a,i),F(v,x,a),w.onload=w.onreadystatechange=null,C&&w.parentNode&&C.removeChild(w))}}C.insertBefore(w,C.firstChild)}else{var k=!1,x=v.xhr();if(x){v.username?x.open(m,v.url,v.async,v.username,v.password):x.open(m,v.url,v.async),v.withCredentials&&"withCredentials"in x&&(x.withCredentials=!0);try{(null!=v.data&&!g||t&&t.contentType)&&x.setRequestHeader("Content-Type",v.contentType),v.ifModified&&(p[v.url]&&x.setRequestHeader("If-Modified-Since",p[v.url]),f[v.url]&&x.setRequestHeader("If-None-Match",f[v.url])),_||x.setRequestHeader("X-Requested-With","XMLHttpRequest"),x.setRequestHeader("Accept",v.dataType&&v.accepts[v.dataType]?v.accepts[v.dataType]+", */*; q=0.01":v.accepts._default)}catch(t){}if(v.beforeSend&&!1===v.beforeSend.call(v.context,x,v))return x.abort(),!1;var S=x.onreadystatechange=function(t){if(x&&0!==x.readyState&&"abort"!==t){if(!k&&x&&(4===x.readyState||"timeout"===t)){var s;if(k=!0,x.onreadystatechange=E,"success"===(a="timeout"===t?"timeout":function(t){try{return!t.status&&"file:"===location.protocol||t.status>=200&&t.status<300||304===t.status||1223===t.status}catch(t){}return!1}(x)?v.ifModified&&function(t,e){var a=t.getResponseHeader("Last-Modified"),i=t.getResponseHeader("Etag");a&&(a[e]=a);i&&(i[e]=i);return 304===t.status}(x,v.url)?"notmodified":"success":"error"))try{i=function(t,e,a){var i=t.getResponseHeader("content-type")||"",s="xml"===e||!e&&i.indexOf("xml")>=0,n=s?t.responseXML:t.responseText;if(s&&"parsererror"===n.documentElement.nodeName)throw"parsererror";a&&a.dataFilter&&(n=a.dataFilter(n,e));"string"==typeof n&&("json"===e||!e&&i.indexOf("json")>=0?n=JSON.parse(n):("script"===e||!e&&i.indexOf("javascript")>=0)&&function(t){if(t&&u.test(t)){var e=document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script");a.type="text/javascript",scriptEval?a.appendChild(document.createTextNode(t)):a.text=t,e.insertBefore(a,e.firstChild),e.removeChild(a)}}(n));return n}(x,v.dataType,v)}catch(t){a="parsererror",s=t}"success"===a||"notmodified"===a?e||L(v,x,a,i):O(v,x,a,s),e||F(v,x,a),"timeout"===t&&x.abort(),v.async&&(x=null)}}else k||F(v,x,a),k=!0,x&&(x.onreadystatechange=E)};try{var M=x.abort;x.abort=function(){x&&Function.prototype.call.call(M,x),S("abort")}}catch(t){}v.async&&v.timeout>0&&setTimeout(function(){x&&!k&&S("timeout")},v.timeout);try{x.send(g||null==v.data?null:v.data)}catch(t){O(v,x,null,t),F(v,x,a)}return v.async||S(),x}}function T(t){return null==t?String(t):n[toString.call(t)]||"object"}function j(t){return"function"===T(t)}function A(t){return"array"===T(t)}function N(t,e,a){if(A(e)&&e.length)for(var i in e){var s=e[i];o.test(t)?a(t,s):N(t+"["+("object"===(void 0===s?"undefined":c()(s))||A(s)?i:"")+"]",s,a)}else if(null!=e&&"object"===(void 0===e?"undefined":c()(e)))if(function(t){for(var e in t)return!1;return!0}(e))a(t,"");else for(var n in e){N(t+"["+n+"]",s=e[n],a)}else a(t,e)}function O(t,e,a,i){"function"==typeof t.error&&t.error.call(t.context,e,a,i)}function L(t,e,a,i){"function"==typeof t.success&&t.success.call(t.context,i,a,e)}function F(t,e,a){"function"==typeof t.complete&&t.complete.call(t.context,e,a)}function E(){}},m=function(t){var e,a,i=t.data;return"string"==typeof t.dataType&&"string"==typeof t.type&&"json"===(e=t.dataType.toLowerCase())&&"post"===t.type.toLowerCase()&&(i=r()(t.data)),"string"==typeof t.contentType&&(a=t.contentType.toLowerCase()),new s.a(function(s,n){v({url:t.url||"url",type:t.type||"GET",async:!1!==t.async,withCredentials:t.withCredentials,data:i,dataType:e||"default",contentType:a||"application/x-www-form-urlencoded; charset=UTF-8",beforeSend:function(){return"function"!=typeof t.beforeSend||t.beforeSend()},success:function(t,e,a,i){s(t,e,a,i)},error:function(t,e,a,i){n({responseText:t.responseText,code:t.status})},complete:function(t,e,a){s(t,e,a)}})})};e.c=p},vUps:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),s=a.n(i),n=a("7+uW"),r=a("mtWM"),o=a.n(r),c=a("oAV5"),l=a("RUzx"),d=a.n(l),h=a("CIhD"),u=a("+ryu"),p={data:function(){return{loding:!0,teamType:{id:"1",isNewRecord:!1,createDate:"2017-11-08",updateDate:"2017-11-08",teamName:"所有团队"},teamOptions:[],selectMoreConfig:{keyName:"label",trackByName:"value",placeholder:"选择角色"},role:{model:["请选择"],options:["请选择"]},th:["成员","角色","当前跟进订单数","有任务正在处理的订单数"],filterData:{list:["本周","最近一个月","最近三个月"],text:"本周",index:0,date:{startDate:"",endDate:"",oneMonth:"",threeMonth:""}},report:{orderCount:0,followCount:0,qualificationsCount:0,activeDelayCount:0,normalCount:0,handleCount:0,overTimeCount:0,riskCount:0,allActiveDelayCount:0,allQualificationsCount:0},weekAndMonthData:{avgCycle:0,dayOvertime:0,endTime:"",newCount:0,onlineCount:0,onlineCountOvertime:0,starTime:""},followOrder:[],foArr:[],searching:!0,waiting:!0,ctx:ctx,showFb:!1,unclick:!1,pageSize:30,pageIndex:0,goodData:[],planningPersons:[],tid:erpShopApp.getQueryString("tid",location.href)||"1"}},components:{selectmore:h.a,multiselect:d.a,pagination:u.a},computed:{wmData:function(){return this.weekAndMonthData},foList:function(){return this.followOrder}},created:function(){var t=new c.c({date:Object(c.e)(),format:"yyyy-MM-dd"});this.filterData.date.oneMonth=t.getSomeMonth(1),this.filterData.date.threeMonth=t.getSomeMonth(3)},mounted:function(){var t=erpShopApp.getQueryString("startDate",location.href),e=erpShopApp.getQueryString("endDate",location.href),a=erpShopApp.getQueryString("tid",location.href)||"1",i=t&&e?null:"week";this.filterData.date.startDate=t||"",this.filterData.date.endDate=e||"",this.filterData.index=t&&e?-1:0,this.getSelectData(),this.getReport(a),this.getWeekAndMonthData(i,t,e,a),this.getFollowOrder(a),this.getRole()},methods:{teamFilter:function(){var t=this.filterData.date,e=t.startDate,a=t.endDate;this.getReport(this.teamType.id),this.getWeekAndMonthData("",e,a,this.teamType.id),this.getFollowOrder(this.teamType.id)},getFollowOrder:function(t){var e=this;o.a.get(ctx+"/statistics/erpStatisticsController/followOrder?teamId="+t).then(function(t){t.data.success&&Array.isArray(t.data.entry)&&(e.followOrder=t.data.entry,e.foArr=t.data.entry)})},getSelectData:function(){var t=this,e=erpShopApp.getQueryString("tid",location.href),a=ctx+"/statistics/erpStatisticsController/selected";o.a.get(a).then(function(a){if(a.data&&(t.teamOptions=Array.isArray(a.data.team)?[t.teamType].concat(a.data.team):[],e))for(var i=0,s=t.teamOptions.length;i<s;i++)if(e===t.teamOptions[i].id){t.teamType=t.teamOptions[i];break}})},getRole:function(){var t=this;o.a.get(ctx+"/statistics/erpStatisticsController/getRoleData").then(function(e){"0"===e.data.code&&Array.isArray(e.data.entry)&&(t.role.model=[],t.role.options=[],e.data.entry.forEach(function(e){t.role.model.push(e.name),t.role.options.push(e.name)}))})},getWeekAndMonthData:function(t,e,a,i){var s=this,n={weekOrMonth:t,starDate:e,endDate:a,teamId:i},r="",c="";o.a.get(ctx+"/statistics/erpStatisticsController/weekAndMonth",{params:n}).then(function(t){t.data?(s.weekAndMonthData=erpShopApp.extend(!0,s.weekAndMonthData,t.data),s.filterData.text=t.data.starTime+"至"+t.data.endTime,r=t.data.starTime,c=t.data.endTime):erpShopApp.tip("查询订单周/月统计出错了，请稍后重试。"),s.filterData.date.startDate=e||r,s.filterData.date.endDate=a||c,s.searching=!1,s.unclick=!1})},getReport:function(t){var e=this,a={teamId:t};o.a.get(ctx+"/statistics/erpStatisticsController/report",{params:a}).then(function(t){t.data?e.report=erpShopApp.extend(!0,e.report,t.data):erpShopApp.tip("查询团队订单出错了，请稍后重试。"),e.waiting=!1})},pageChange:function(t){this.pageIndex=t-1},filterRole:function(){var t=this.role,e=t.model,a=t.options;e.length===a.length?this.followOrder=this.foArr:this.followOrder=this.foArr.filter(function(t){if(!t.userRole)return!1;for(var a=!1,i=t.userRole.split(","),s=0,n=i.length;s<n;s++)if(-1!==e.indexOf(i[s])){a=!0;break}return a})},search:function(){var t=this.filterData.date,e=t.startDate,a=t.endDate,i=this.filterData.index;if(-1===i&&(!e||!a))return erpShopApp.tip("请选择查询时间区间！"),!1;if(this.searching=!0,0===i)this.filterData.date.startDate=e,this.filterData.date.endDate=a,this.filterData.text=e+"至"+a,this.getWeekAndMonthData("week",null,null,this.teamType.id);else if(1===i){var s=this.filterData.date.oneMonth.split(" - ");this.filterData.date.startDate=s[0],this.filterData.date.endDate=s[1],this.filterData.text=s[0]+"至"+s[1],this.getWeekAndMonthData("",s[0],s[1],this.teamType.id)}else if(2===i){var n=this.filterData.date.threeMonth.split(" - ");this.filterData.date.startDate=n[0],this.filterData.date.endDate=n[1],this.filterData.text=n[0]+"至"+n[1],this.getWeekAndMonthData("",n[0],n[1],this.teamType.id)}else this.filterData.date.startDate=e,this.filterData.date.endDate=a,this.filterData.text=e+"至"+a,this.getWeekAndMonthData("",e,a,this.teamType.id);this.showFb=!1},changeDates:function(t){var e=this.filterData.date,a=e.startDate,i=e.endDate;if(this.searching=!0,this.showFb=!1,this.unclick)return!1;this.unclick=!0;var s=new Date(i).getTime(),n=new Date(Object(c.e)()).getTime(),r=Math.floor((new Date(i).getTime()-new Date(a).getTime())/24/60/60/1e3)+1;if("before"===t)this.filterData.date.startDate=Object(c.d)(r,a,t),this.filterData.date.endDate=Object(c.d)(1,a,t);else{if(s>=n)return erpShopApp.tip("选择的时间区间已经超过今天的日期！"),this.searching=!1,this.unclick=!1,!1;this.filterData.date.startDate=Object(c.d)(1,i),this.filterData.date.endDate=Object(c.d)(r,i)}this.filterData.index=-1,this.getWeekAndMonthData("",this.filterData.date.startDate,this.filterData.date.endDate,this.teamType.id)},changeFilter:function(t){this.filterData.index=t,this.filterData.date.startDate="",this.filterData.date.endDate=""},toggleFb:function(){this.showFb=!this.showFb},changeDate:function(t,e){this.filterData.date[e]=/^([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8])))$/.test(t.target.value)?t.target.value:"",this.filterData.index=-1},gototeamStatistics:function(t,e,a,i){var s=this.filterData.date,n=s.startDate,r=s.endDate;if(t)location.href=t&&e?ctx+"/statistics/erpStatisticsController/teamStatisticsUrl?startDate="+n+"&endDate="+r+"&t="+t+"&c="+a+"&tid="+this.teamType.id:ctx+"/statistics/erpStatisticsController/teamStatisticsUrl?t="+t+"&c="+a+"&tid="+this.teamType.id;else{var o=i?"/statistics/erpStatisticsController/teamStatisticsUrl?com=competeCount&tid="+this.teamType.id:"/statistics/erpStatisticsController/teamStatisticsUrl?tid="+this.teamType.id;location.href=ctx+o}}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"store"},[a("div",{staticClass:"act-top positionrelative overview"},[a("ul",{staticClass:"nav nav-tabs"},[t._m(0),t._v(" "),a("li",{staticClass:"acttitle"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics(0,0,0)}}},[t._v("\n\t\t\t\t\t团队订单管理\n\t\t\t\t")])])])]),t._v(" "),a("div",{staticClass:"padding10 statistics-outside-wrapper"},[a("div",{staticClass:"border-wrap margin-bottom-10 statistics-wrapper"},[a("blockquote",{staticClass:"blockquote displayinline"},[a("p",[t._v("团队订单总数统计")]),t._v(" "),a("div",{staticStyle:{"margin-left":"200px","margin-top":"-27px"}},[a("multiselect",{staticStyle:{width:"165px"},attrs:{options:t.teamOptions,searchable:!1,"show-labels":!1,"allow-empty":!1,"track-by":"teamName",label:"teamName"},on:{input:t.teamFilter},model:{value:t.teamType,callback:function(e){t.teamType=e},expression:"teamType"}})],1)]),t._v(" "),a("div",{staticClass:"clearboth positionrelative"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.waiting,expression:"waiting"}],staticClass:"searching positionabsolute"},[t._v("请稍等，正在查询中...")]),t._v(" "),a("div",{staticClass:"greenDot dataCell"},[a("span",[t._v("累计总接单数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics(0,0,0)}}},[t._v(t._s(t.report.orderCount))])]),t._v(" "),a("div",{staticClass:"greenDot dataCell"},[a("span",[t._v("累计已完成订单数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics(0,0,0,"competeCount")}}},[t._v(t._s(t.report.competeCount))])])])]),t._v(" "),a("div",{staticClass:"border-wrap margin-bottom-10 statistics-wrapper"},[t._m(1),t._v(" "),a("div",{staticClass:"clearboth positionrelative"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.waiting,expression:"waiting"}],staticClass:"searching positionabsolute"},[t._v("请稍等，正在查询中...")]),t._v(" "),a("div",{staticClass:"greenDot dataCell halfwidth"},[a("span",[t._v("当前跟进订单总数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics("status",0,"follow")}}},[t._v(t._s(t.report.followCount))])]),t._v(" "),a("div",{staticClass:"dataCell halfwidth"}),t._v(" "),a("div",{staticClass:"greenDot dataCell halfwidth"},[a("span",[t._v("当前有任务正在处理的跟进订单数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics("status",0,"handle")}}},[t._v(t._s(t.report.handleCount))])]),t._v(" "),a("div",{staticClass:"greenDot dataCell halfwidth"},[a("span",[t._v("正常跟进订单数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics("status",0,"normal")}}},[t._v(t._s(t.report.normalCount))])]),t._v(" "),a("div",{staticClass:"orangeDot dataCell halfwidth"},[a("span",[t._v("当前存在资质问题的跟进订单数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics("status",0,"qualifications")}}},[t._v(t._s(t.report.qualificationsCount))])]),t._v(" "),a("div",{staticClass:"orangeDot dataCell halfwidth"},[a("span",[t._v("存在过资质问题的跟进订单数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics("status",0,"allqualifications")}}},[t._v(t._s(t.report.allQualificationsCount))])]),t._v(" "),a("div",{staticClass:"orangeDot dataCell halfwidth"},[a("span",[t._v("商户主动要求延迟上线的跟进订单数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics("status",0,"activeDelay")}}},[t._v(t._s(t.report.activeDelayCount))])]),t._v(" "),a("div",{staticClass:"orangeDot dataCell halfwidth"},[a("span",[t._v("商户曾经主动要求延迟上线的跟进订单数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics("status",0,"allactiveDelay")}}},[t._v(t._s(t.report.allActiveDelayCount))])]),t._v(" "),a("div",{staticClass:"orangeDot dataCell halfwidth"},[a("span",[t._v("有超时风险的订单数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics("timeoutFlag",0,"risk")}}},[t._v(t._s(t.report.riskCount))])]),t._v(" "),a("div",{staticClass:"redDot dataCell halfwidth"},[a("span",[t._v("执行中的任务存在超时的订单数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics("taskStatus",0,"timeout")}}},[t._v(t._s(t.report.overTimeCount))])])])]),t._v(" "),a("div",{staticClass:"border-wrap margin-bottom-10 statistics-wrapper"},[a("div",{staticClass:"positionrelative filterwrapper"},[t._m(2),t._v(" "),a("div",{staticClass:"btn-group ml88"},[a("button",{staticClass:"btn",on:{click:function(e){t.changeDates("before")}}},[a("span",[t._v(" ")]),a("i",{staticClass:"icon-chevron-left"})]),t._v(" "),a("button",{staticClass:"btn filterBtn",on:{click:t.toggleFb}},[a("span",[t._v(t._s(t.filterData.text))]),a("i",{staticClass:"icon-chevron-down"})]),t._v(" "),a("button",{staticClass:"btn",on:{click:function(e){t.changeDates("after")}}},[a("span",[t._v(" ")]),a("i",{staticClass:"icon-chevron-right"})])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showFb,expression:"showFb"}],staticClass:"positionabsolute filterBox"},[a("div",{staticClass:"filterDiv"},[t._l(t.filterData.list,function(e,i){return a("a",{key:"ft_"+i,staticClass:"filtersetting",class:{on:i===t.filterData.index},attrs:{href:"javascript:;"},on:{click:function(e){t.changeFilter(i)}}},[a("span",[t._v(t._s(e))])])}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.date.startDate,expression:"filterData.date.startDate"}],ref:"startDate",staticClass:"statistics-input Wdate",attrs:{type:"text",id:"startDate",onclick:"WdatePicker({dateFmt:'yyyy-MM-dd', isShowClear:false, readOnly:false, maxDate:'#F{$dp.$D(\\'endDate\\');}'});"},domProps:{value:t.filterData.date.startDate},on:{focus:function(e){t.changeDate(e,"startDate")},input:function(e){e.target.composing||t.$set(t.filterData.date,"startDate",e.target.value)}}}),t._v("至\n\t\t\t\t\t\t"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.date.endDate,expression:"filterData.date.endDate"}],ref:"endDate",staticClass:"statistics-input Wdate",attrs:{type:"text",id:"endDate",onclick:"WdatePicker({dateFmt:'yyyy-MM-dd', isShowClear:false, readOnly:false, minDate:'#F{$dp.$D(\\'startDate\\');}'});"},domProps:{value:t.filterData.date.endDate},on:{focus:function(e){t.changeDate(e,"endDate")},input:function(e){e.target.composing||t.$set(t.filterData.date,"endDate",e.target.value)}}}),t._v(" "),a("div",{staticClass:"btns"},[a("button",{staticClass:"btn btn-primary",on:{click:t.search}},[t._v("确定")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.toggleFb}},[t._v("取消")])])],2)])]),t._v(" "),a("div",{staticClass:"clearboth padbottom20 positionrelative"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.searching,expression:"searching"}],staticClass:"searching positionabsolute"},[t._v("请稍等，正在查询中...")]),t._v(" "),a("div",{staticClass:"blueDot dataCell"},[a("span",[t._v("新接入订单数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics("orderType",1,"4")}}},[t._v(t._s(t.wmData.newCount))])]),t._v(" "),a("div",{staticClass:"greenDot dataCell"},[a("span",[t._v("上线订单数：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics("orderType,status",1,"1")}}},[t._v(t._s(t.wmData.onlineCount))])]),t._v(" "),a("div",{staticClass:"greenDot dataCell"},[a("span",[t._v("上线订单中的超时订单数（除存在过资质问题和商户曾经主动要求延迟上线的订单）：")]),a("a",{staticClass:"gototeamStatistics",attrs:{href:"javascript:;"},on:{click:function(e){t.gototeamStatistics("orderType,status",1,"3")}}},[t._v(t._s(t.wmData.onlineCountOvertime))])]),t._v(" "),a("div",{staticClass:"greenDot dataCell"},[a("span",[t._v("上线订单平均周期（除在过资质问题和商户曾经主动要求延迟上线的订单）："+t._s(t.wmData.avgCycle))])])])]),t._v(" "),a("div",{staticClass:"border-wrap margin-bottom-10 statistics-wrapper"},[t._m(3),t._v(" "),a("div",{staticClass:"clearboth"},[a("div",{staticClass:"teamorderlist"},[a("table",{staticClass:"table table-striped",attrs:{id:"contentTable"}},[a("thead",[a("tr",t._l(t.th,function(e,i){return a("th",{key:"th_"+i},[t._v(t._s(e))])}))]),t._v(" "),a("tbody",[t.foList.length>0?t._l(t.foList.slice(t.pageIndex*t.pageSize,t.pageIndex*t.pageSize+t.pageSize),function(e,i){return a("tr",{key:"fo_"+i},[a("td",[t._v(t._s(e.userName))]),t._v(" "),a("td",[t._v(t._s(e.userRole))]),t._v(" "),a("td",[t._v(t._s(e.followOrder))]),t._v(" "),a("td",[t._v(t._s(e.taskOrder))])])}):[t._m(4)]],2)])])]),t._v(" "),t.foList.length>t.pageSize?[a("pagination",{attrs:{total:t.foList.length,perPages:7,pageIndex:1,pageSize:t.pageSize},on:{change:t.pageChange}})]:t._e()],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"acttitle active"},[e("a",{attrs:{href:"javascript:;"}},[this._v("\n\t\t\t\t\t团队订单统计\n\t\t\t\t")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",{staticClass:"blockquote"},[e("p",[this._v("当前跟进订单统计")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",{staticClass:"blockquote displayinline"},[e("p",[this._v("订单周/月统计")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"positionrelative filterwrapper"},[e("blockquote",{staticClass:"blockquote positionabsolute"},[e("p",[this._v("团队成员跟进订单统计")])]),this._v(" "),e("div",{staticClass:"selectRole",staticStyle:{display:"none"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{attrs:{colspan:"4"}},[e("div",{staticStyle:{height:"100px","padding-top":"15px","text-indent":"2em"}},[this._v("暂无数据，请重新查询")])])}]},v=a("VU/8")(p,f,!1,null,null,null).exports;n.default.config.productionTip=!1,n.default.config.devtools=!1,new n.default(s()({},v)).$mount("#rootNode")}},["vUps"]);