webpackJsonp([128],{FYcZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),r=a("mvHQ"),i=a.n(r),n=a("mtWM"),c=a.n(n),o={name:"teamtask",data:function(){return{optiondata:[],teamdata:[],enbelData:{},witch:"teamUser",searchUser:"",selectUserArray:[],selectTeamAddUserArray:[],uid:window.__userId__,classIndex:-1,tcalsInx:-1,sclasInx:-1,taskId:getQueryString("taskId",location.href)}},computed:{optiondatas:function(){var t=this;return this.classIndex=-1,""!==this.searchUser.trim()&&0!==this.optiondata.length?this.optiondata.filter(function(e,a){return-1!=e.userName.indexOf(t.searchUser)}):this.optiondata},teamdatas:function(){return this.teamdata},enbelDatas:function(){return this.enbelData.selectUserEnbel}},created:function(){sessionStorage.removeItem("enbelData"),sessionStorage.removeItem("selectUserArray"),sessionStorage.removeItem("selectTeamAddUserArray"),sessionStorage.removeItem("witchsObj")},mounted:function(){this.getOptionData(window.__pushTeamUserUrl__),this.getTeamData(window.__pushTeamAndUserUrl__)},methods:{witchs:function(t){this.witch=t,sessionStorage.setItem("witchsObj",t)},hrefs:function(t,e){return t?"#collapseOne"+e:"collapseOne"+e},bindCla:function(t){return 0===t?"accordion-body collapse in":"accordion-body collapse"},bcla:function(t){return this.classIndex===t?"on":""},tcla:function(t,e){return this.tcalsInx===t&&this.sclasInx===e?"on":""},toSelectUser:function(t,e){if(""===e.target.className.trim()){var a={teamId:this.optiondatas[t].teamId,userId:this.optiondatas[t].userId,userName:this.optiondatas[t].userName};this.classIndex=t,this.selectUserArray[0]=a,sessionStorage.setItem("selectUserArray",i()(this.selectUserArray))}else this.classIndex=-1,this.selectUserArray=[],sessionStorage.removeItem("selectUserArray")},selectTeams:function(t,e,a){if(""===a.target.className.trim()){var s={teamId:this.teamdatas[t].teamId,userId:this.teamdatas[t].teamUser[e].userId,userName:this.teamdatas[t].teamUser[e].userName};this.tcalsInx=t,this.sclasInx=e,this.selectTeamAddUserArray[0]=s,sessionStorage.setItem("selectTeamAddUserArray",i()(this.selectTeamAddUserArray))}else this.tcalsInx=-1,this.sclasInx=-1,this.selectTeamAddUserArray=[],sessionStorage.removeItem("selectTeamAddUserArray")},getOptionData:function(t){var e=this;c.a.get(t).then(function(t){e.optiondata=t.data}).catch(function(t){})},getTeamData:function(t){var e=this;c.a.get(t).then(function(t){e.teamdata=t.data}).catch(function(t){})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aps"},[a("ul",{staticClass:"nav nav-tabs",staticStyle:{"margin-top":"10px"},attrs:{id:"selectUserOrTeamTeamtask"}},[t.taskId&&"undefined"!==t.taskId?a("li",{class:{active:t.taskId&&"undefined"!==t.taskId},staticStyle:{"margin-left":"162px"}},[a("a",{attrs:{href:"#selectUserTeamtask","data-toggle":"tab","data-selected":"teamUser"},on:{click:function(e){t.witchs("teamUser")}}},[t._v("成员")])]):t._e(),t._v(" "),a("li",{class:{active:"undefined"===t.taskId}},[a("a",{attrs:{href:"#selectTeamTeamtask","data-toggle":"tab","data-selected":"teamAndUser"},on:{click:function(e){t.witchs("teamAndUser")}}},[t._v("团队")])])]),t._v(" "),a("div",{staticClass:"tab-content"},[t.taskId&&"undefined"!==t.taskId?a("div",{staticClass:"tab-pane active",attrs:{id:"selectUserTeamtask"}},[a("div",{staticClass:"serachInput",staticStyle:{margin:"10px 0px 10px 120px"}},[a("div",{staticClass:"input-append"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchUser,expression:"searchUser"}],staticClass:"input-small",attrs:{id:"officeName",name:"officename",type:"text",value:""},domProps:{value:t.searchUser},on:{input:function(e){e.target.composing||(t.searchUser=e.target.value)}}}),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"accordion",attrs:{id:"accordion1"}},[a("div",{staticClass:"accordion-group"},[a("div",{staticClass:"accordion-heading"},[a("a",{staticClass:"accordion-toggle",attrs:{"data-toggle":"collapse","data-parent":"#accordion1",href:"#accordionaccordion"}},[t._v("\n\t\t\t\t      \t\t全部成员（"+t._s(t.optiondata.length)+"）\n\t\t\t\t      \t")])]),t._v(" "),a("div",{staticClass:"accordion-body collapse in",attrs:{id:"accordionaccordion"}},t._l(t.optiondatas,function(e,s){return a("div",{key:e.id},[a("div",{staticClass:"accordion-inner"},[t.uid===e.userId?a("a",{staticClass:"noselect",attrs:{href:"javascript:;"}},[t._v(t._s(e.userName))]):a("a",{class:t.bcla(s),attrs:{href:"javascript:;","data-uid":e.userId},on:{click:function(e){t.toSelectUser(s,e)}}},[t._v(t._s(e.userName))])])])}))])])]):t._e(),t._v(" "),a("div",{class:{"tab-pane":t.taskId&&"undefined"!==t.taskId},attrs:{id:"selectTeamTeamtask"}},[a("div",{staticClass:"wrpper"},[a("div",{staticClass:"accordion",attrs:{id:"accordion2"}},t._l(t.teamdatas,function(e,s){return t.teamdatas&&0!==t.teamdatas.length?a("div",{key:e.teamId,staticClass:"accordion-group"},[a("div",{staticClass:"accordion-heading"},[a("a",{staticClass:"accordion-toggle",attrs:{"data-toggle":"collapse","data-parent":"#accordion2",href:t.hrefs(!0,s)}},[t._v("\n\t\t\t\t\t        \t"+t._s(e.teamName)+"\n\t\t\t\t\t      \t")])]),t._v(" "),a("div",{class:t.bindCla(s),attrs:{id:t.hrefs(!1,s)}},t._l(e.teamUser,function(r,i){return e.teamUser&&0!==e.teamUser.length?a("div",{key:r.id,staticClass:"accordion-inner"},[t.uid===r.userId?a("a",{staticClass:"noselect",attrs:{href:"javascript:;"}},[t._v(t._s(r.userName))]):a("a",{class:t.tcla(s,i),attrs:{href:"javascript:;"},on:{click:function(e){t.selectTeams(s,i,e)}}},[t._v(t._s(r.userName))])]):t._e()}))]):t._e()}))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"btn",attrs:{id:"officeButton",href:"javascript:"}},[e("i",{staticClass:"icon-search"})])}]},l=a("VU/8")(o,d,!1,null,null,null).exports;s.default.config.productionTip=!1,s.default.config.devtools=!1,new s.default({el:"#selectUserOrTeamWrapper",render:function(t){return t(l)}})}},["FYcZ"]);